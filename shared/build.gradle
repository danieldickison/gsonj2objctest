plugins {
    id 'java'
    id 'com.github.j2objccontrib.j2objcgradle' version '0.5.0-alpha'
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.google.j2objc:j2objc-annotations:0.9.8'

    testCompile "junit:junit:4.12"
    testCompile 'com.google.code.gson:gson:2.5'
    j2objcTestTranslation 'com.google.code.gson:gson:2.5:sources'
}

// Plugin settings:
j2objcConfig {
    minVersionIos '9.1'
    translateArgs '--swift-friendly'

    // While we're using custom build of j2objc directly from github:
    skipJ2objcVerification true

    // Not sure why but this helps.
    translateJ2objcLibs.remove("protobuf_runtime.jar")
    linkJ2objcLibs.remove("protobuf_runtime")

    finalConfigure()          // Must be last call to configuration
}
